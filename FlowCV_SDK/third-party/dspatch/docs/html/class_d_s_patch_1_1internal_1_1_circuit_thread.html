<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DSPatch: DSPatch::internal::CircuitThread Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="heartbeat.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DSPatch
   &#160;<span id="projectnumber">v.7.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>DSPatch</b></li><li class="navelem"><b>internal</b></li><li class="navelem"><a class="el" href="class_d_s_patch_1_1internal_1_1_circuit_thread.html">CircuitThread</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_d_s_patch_1_1internal_1_1_circuit_thread-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">DSPatch::internal::CircuitThread Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Thread class for asynchronously ticking circuit components.  
 <a href="class_d_s_patch_1_1internal_1_1_circuit_thread.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_circuit_thread_8h_source.html">CircuitThread.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a360f3ecb02a0662b254706e05c0a3e0f"><td class="memItemLeft" align="right" valign="top"><a id="a360f3ecb02a0662b254706e05c0a3e0f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>NONCOPYABLE</b> (<a class="el" href="class_d_s_patch_1_1internal_1_1_circuit_thread.html">CircuitThread</a>)</td></tr>
<tr class="separator:a360f3ecb02a0662b254706e05c0a3e0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba0ea009e4ca6113a0b3c80cec633986"><td class="memItemLeft" align="right" valign="top"><a id="aba0ea009e4ca6113a0b3c80cec633986"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>DEFINE_PTRS</b> (<a class="el" href="class_d_s_patch_1_1internal_1_1_circuit_thread.html">CircuitThread</a>)</td></tr>
<tr class="separator:aba0ea009e4ca6113a0b3c80cec633986"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa7b95fc9b62524832d83639a6950d29"><td class="memItemLeft" align="right" valign="top"><a id="aaa7b95fc9b62524832d83639a6950d29"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Start</b> (std::vector&lt; DSPatch::Component::SPtr &gt; *components, int threadNo)</td></tr>
<tr class="separator:aaa7b95fc9b62524832d83639a6950d29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c10ef8da11245dce92fbb2d8fb6c285"><td class="memItemLeft" align="right" valign="top"><a id="a9c10ef8da11245dce92fbb2d8fb6c285"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Stop</b> ()</td></tr>
<tr class="separator:a9c10ef8da11245dce92fbb2d8fb6c285"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b56070b8921fcfb1b5186f00b4fc610"><td class="memItemLeft" align="right" valign="top"><a id="a6b56070b8921fcfb1b5186f00b4fc610"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Sync</b> ()</td></tr>
<tr class="separator:a6b56070b8921fcfb1b5186f00b4fc610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad00e1681ce3f36e1d20d8e63120f86b1"><td class="memItemLeft" align="right" valign="top"><a id="ad00e1681ce3f36e1d20d8e63120f86b1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SyncAndResume</b> (DSPatch::Component::TickMode mode)</td></tr>
<tr class="separator:ad00e1681ce3f36e1d20d8e63120f86b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Thread class for asynchronously ticking circuit components. </p>
<p>A <a class="el" href="class_d_s_patch_1_1internal_1_1_circuit_thread.html" title="Thread class for asynchronously ticking circuit components.">CircuitThread</a> is responsible for ticking and reseting all components within a <a class="el" href="class_d_s_patch_1_1_circuit.html" title="Workspace for adding and routing components.">Circuit</a>. Upon initialisation, a reference to the vector of circuit components must be provided for the thread _Run() method to loop through. Each <a class="el" href="class_d_s_patch_1_1internal_1_1_circuit_thread.html" title="Thread class for asynchronously ticking circuit components.">CircuitThread</a> has a thread number (threadNo), which is also provided upon initialisation. When creating multiple CircuitThreads, each thread must have their own unique thread number, beginning at 0 and incrementing by 1 for every thread added. This thread number corresponds with the <a class="el" href="class_d_s_patch_1_1_component.html" title="Abstract base class for DSPatch components.">Component</a>'s buffer number when calling it's Tick() and Reset() methods in the <a class="el" href="class_d_s_patch_1_1internal_1_1_circuit_thread.html" title="Thread class for asynchronously ticking circuit components.">CircuitThread</a>'s component loop. Hence, for every circuit thread created, each component's buffer count within that circuit must be incremented to match.</p>
<p>The SyncAndResume() method causes the <a class="el" href="class_d_s_patch_1_1internal_1_1_circuit_thread.html" title="Thread class for asynchronously ticking circuit components.">CircuitThread</a> to tick and reset all circuit components once, after which the thread will wait until instructed to resume again. As each component is done processing it hands over control to the next waiting circuit thread, therefore, from an external control loop (I.e. <a class="el" href="class_d_s_patch_1_1_circuit.html" title="Workspace for adding and routing components.">Circuit</a>'s Tick() method) we can simply loop through our array of CircuitThreads calling SyncAndResume() on each. If a circuit thread is busy processing, a call to SyncAndResume() will block momentarily until that thread is done processing. </p>

<p class="definition">Definition at line <a class="el" href="_circuit_thread_8h_source.html#l00110">110</a> of file <a class="el" href="_circuit_thread_8h_source.html">CircuitThread.h</a>.</p>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_circuit_thread_8h_source.html">CircuitThread.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
